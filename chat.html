<!-- 
pulling reference document from url and 
assembling chat in div with id=geminiChat.
if no rarget element is provided, then 
add it to bank document
-->

<div id="geminiChat"></div>
<link href="https://episphere.github.io/gemini/gem.css" rel="stylesheet">
<script>
    (async function(){
        if(location.hash.match('geminiDoc')){
            //let docURL='https://episphere.github.io/gemini/connectStudy.txt'
            let docURL=location.hash.match('geminiDoc').input.match(/[^\$]+geminiDoc=([^\$]+)/g)[0].split('=')[1];
            console.log('reading ... ',docURL);
            //let chat = (await import("./chat.mjs")).chat;
            //chat("geminiChat",docURL)
            (await import("./chat.mjs")).chat("geminiChat",docURL)
            
        }        
    })()
    // try, for example, insert reference doc URL in the domain hash: 
    // '#geminiChat=https://episphere.github.io/gemini/doc/TCGA-BP-5195.25c0b433-5557-4165-922e-2c1eac9c26f0.txt
    // '#geminiChat=https://episphere.github.io/gemini/doc/connectStudy.txt
    // etc
</script>